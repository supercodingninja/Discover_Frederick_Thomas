var k,l=this,aa=function(a,b){a=a.split(".");var c=l;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b},m=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=
typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},n=function(a){return"string"==typeof a},ba=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},ca=function(a,b,c){return a.call.apply(a.bind,arguments)},da=function(a,
b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},q=function(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ca:da;return q.apply(null,arguments)},r=Date.now||function(){return+new Date},t=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=
b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(a,c,g){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return b.prototype[c].apply(a,d)}};var u={server:"https://partnersbadge-pa.googleapis.com",ANALYTICS_ID:"UA-38618295-11",getApiServerUrl:function(){return u.server},getFileSuffix:function(){return""}};aa("partners.badge.environment",u);var ea=function(a){this.alreadyLogged_={};this.agencyId_=a;ga("create",u.ANALYTICS_ID,"auto");ga("set","transport","beacon")},fa=function(a,b){a.alreadyLogged_[b]||(a.alreadyLogged_[b]=!0,ga("send",{hitType:"event",eventCategory:"Interaction",eventAction:b,eventLabel:a.agencyId_,appName:"Badge"}))};var ha=function(){this.apiKey_="AIzaSyAoOEwZ4SYdbkloxRGxQLGA-_BRJC3c55Q"},ia=function(a,b,c,d,f){b=Number(b);(b=!b||isNaN(b)?"":"companies/"+b)&&gapi.client.request({path:u.getApiServerUrl()+"/v1/"+b+"?key="+a.apiKey_,params:{name:b,language:d,referrer:c}}).execute(f)};var v=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,v);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};t(v,Error);v.prototype.name="CustomError";var ja=function(a,b){for(var c=a.split("%s"),d="",f=Array.prototype.slice.call(arguments,1);f.length&&1<c.length;)d+=c.shift()+f.shift();return d+c.join("%s")},ka=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},w=function(a){if(!la.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ma,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(na,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(oa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(pa,"&quot;"));-1!=a.indexOf("'")&&
(a=a.replace(qa,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(ra,"&#0;"));return a},ma=/&/g,na=/</g,oa=/>/g,pa=/"/g,qa=/'/g,ra=/\x00/g,la=/[\x00&<>"']/,sa=function(a,b){return a<b?-1:a>b?1:0};var x=function(a,b){b.unshift(a);v.call(this,ja.apply(null,b));b.shift()};t(x,v);x.prototype.name="AssertionError";
var ta=function(a,b,c,d){var f="Assertion failed";if(c)var f=f+(": "+c),g=d;else a&&(f+=": "+a,g=b);throw new x(""+f,g||[]);},y=function(a,b,c){a||ta("",null,b,Array.prototype.slice.call(arguments,2))},z=function(a,b){throw new x("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));},ua=function(a,b,c){n(a)||ta("Expected string but got %s: %s.",[m(a),a],b,Array.prototype.slice.call(arguments,2));return a};var va=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};var A=function(){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_="";this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=wa};A.prototype.implementsGoogStringTypedString=!0;A.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_};A.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"};
var xa=function(a){if(a instanceof A&&a.constructor===A&&a.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===wa)return a.stringConstValueWithSecurityContract__googStringSecurityPrivate_;z("expected object of type Const, got '"+a+"'");return"type_error:Const"},wa={},ya=function(a){var b=new A;b.stringConstValueWithSecurityContract__googStringSecurityPrivate_=a;return b};ya("");var B=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="";this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=za};B.prototype.implementsGoogStringTypedString=!0;B.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_};B.prototype.getDirection=function(){return 1};B.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"};var za={};var C=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="";this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=Aa};C.prototype.implementsGoogStringTypedString=!0;C.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_};C.prototype.getDirection=function(){return 1};C.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"};
var D=function(a){if(a instanceof C&&a.constructor===C&&a.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===Aa)return a.privateDoNotAccessOrElseSafeHtmlWrappedValue_;z("expected object of type SafeUrl, got '"+a+"' of type "+m(a));return"type_error:SafeUrl"},Ba=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i,Da=function(a){if(a instanceof C)return a;a=a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);Ba.test(a)||(a="about:invalid#zClosurez");return Ca(a)},Aa={},Ca=function(a){var b=
new C;b.privateDoNotAccessOrElseSafeHtmlWrappedValue_=a;return b};Ca("about:blank");var E;a:{var Ea=l.navigator;if(Ea){var Fa=Ea.userAgent;if(Fa){E=Fa;break a}}E=""}var F=function(a){return-1!=E.indexOf(a)};var G=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="";this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=Ga;this.dir_=null};G.prototype.getDirection=function(){return this.dir_};G.prototype.implementsGoogStringTypedString=!0;G.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_};G.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"};
var Ha=function(a){if(a instanceof G&&a.constructor===G&&a.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===Ga)return a.privateDoNotAccessOrElseSafeHtmlWrappedValue_;z("expected object of type SafeHtml, got '"+a+"' of type "+m(a));return"type_error:SafeHtml"},Ga={};G.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=a;this.dir_=null;return this};var Ia=/#|$/;var H={sanitizedContentKindHtml:!0},Ja={sanitizedContentUri:!0},Ka={sanitizedContentTrustedResourceUri:!0},La={sanitizedContentKindText:!0},I=function(){throw Error("Do not instantiate directly");};I.prototype.contentDir=null;I.prototype.toString=function(){return this.content};var J=function(){I.call(this)};t(J,I);J.prototype.contentKind=H;var K=function(){I.call(this)};t(K,I);K.prototype.contentKind=Ja;K.prototype.contentDir=1;var L=function(){I.call(this)};t(L,I);L.prototype.contentKind=Ka;
L.prototype.contentDir=1;var Na=function(a,b){var c=Ma;Object.prototype.hasOwnProperty.call(c,a)||(c[a]=b(a))};var Oa=F("Opera"),M=F("Trident")||F("MSIE"),Pa=F("Edge"),Qa=Pa||M,Ra=F("Gecko")&&!(-1!=E.toLowerCase().indexOf("webkit")&&!F("Edge"))&&!(F("Trident")||F("MSIE"))&&!F("Edge"),Sa=-1!=E.toLowerCase().indexOf("webkit")&&!F("Edge"),Ta=function(){var a=l.document;return a?a.documentMode:void 0},Ua;
a:{var Va="",Wa=function(){var a=E;if(Ra)return/rv\:([^\);]+)(\)|;)/.exec(a);if(Pa)return/Edge\/([\d\.]+)/.exec(a);if(M)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Sa)return/WebKit\/(\S+)/.exec(a);if(Oa)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Wa&&(Va=Wa?Wa[1]:"");if(M){var Xa=Ta();if(null!=Xa&&Xa>parseFloat(Va)){Ua=String(Xa);break a}}Ua=Va}
var Ya=Ua,Ma={},Za=function(a){Na(a,function(){for(var b=0,c=ka(String(Ya)).split("."),d=ka(String(a)).split("."),f=Math.max(c.length,d.length),g=0;0==b&&g<f;g++){var e=c[g]||"",h=d[g]||"";do{e=/(\d*)(\D*)(.*)/.exec(e)||["","","",""];h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""];if(0==e[0].length&&0==h[0].length)break;b=sa(0==e[1].length?0:parseInt(e[1],10),0==h[1].length?0:parseInt(h[1],10))||sa(0==e[2].length,0==h[2].length)||sa(e[2],h[2]);e=e[3];h=h[3]}while(0==b)}return 0<=b})},$a;var ab=l.document;
$a=ab&&M?Ta()||("CSS1Compat"==ab.compatMode?parseInt(Ya,10):5):void 0;M&&Za(8);var bb=function(a){if(null!=a)switch(a.contentDir){case 1:return 1;case -1:return-1;case 0:return 0}return null},N=function(a){return null!=a&&a.contentKind===H?(y(a.constructor===J),a):a instanceof G?cb(Ha(a),a.getDirection()):cb(w(String(String(a))),bb(a))},cb=function(a){function b(a){this.content=a}b.prototype=a.prototype;return function(a,d){a=new b(String(a));void 0!==d&&(a.contentDir=d);return a}}(J);
(function(a){function b(a){this.content=a}b.prototype=a.prototype;return function(a,d){a=String(a);if(!a)return"";a=new b(a);void 0!==d&&(a.contentDir=d);return a}})(J);
var hb=function(a){return null!=a&&a.contentKind===H?(y(a.constructor===J),String(String(a.content).replace(db,"").replace(eb,"&lt;")).replace(fb,gb)):w(String(a))},O=function(a,b,c,d){a||z("expected param "+b+" of type "+d+(", but got "+(c instanceof Function?c.displayName||c.name||"unknown type name":c instanceof Object?c.constructor.displayName||c.constructor.name||Object.prototype.toString.call(c):null===c?"null":typeof c))+".");return c},ib={"\x00":"&#0;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;",
"\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"},gb=function(a){return ib[a]},jb={"\x00":"%00","\u0001":"%01","\u0002":"%02","\u0003":"%03","\u0004":"%04","\u0005":"%05","\u0006":"%06","\u0007":"%07","\b":"%08","\t":"%09","\n":"%0A","\x0B":"%0B","\f":"%0C","\r":"%0D","\u000e":"%0E","\u000f":"%0F","\u0010":"%10","\u0011":"%11","\u0012":"%12",
"\u0013":"%13","\u0014":"%14","\u0015":"%15","\u0016":"%16","\u0017":"%17","\u0018":"%18","\u0019":"%19","\u001a":"%1A","\u001b":"%1B","\u001c":"%1C","\u001d":"%1D","\u001e":"%1E","\u001f":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\u007f":"%7F","\u0085":"%C2%85","\u00a0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88",
"\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C","\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D","\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB","\uff3d":"%EF%BC%BD"},P=function(a){return jb[a]},fb=/[\x00\x22\x27\x3c\x3e]/g,Q=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,kb=/^[^&:\/?#]*(?:[\/?#]|$)|^https?:|^data:image\/[a-z0-9+]+;base64,[a-z0-9+\/]+=*$|^blob:/i,
db=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,eb=/</g;var lb=function(a){var b=O(n(a.agencyName)||a.agencyName instanceof I,"agencyName",a.agencyName,"!goog.soy.data.SanitizedContent|string"),c=O(n(a.mainBadgeCssClass)||a.mainBadgeCssClass instanceof I,"mainBadgeCssClass",a.mainBadgeCssClass,"!goog.soy.data.SanitizedContent|string"),d=O(n(a.mainPopupCssClass)||a.mainPopupCssClass instanceof I,"mainPopupCssClass",a.mainPopupCssClass,"!goog.soy.data.SanitizedContent|string"),f=O("number"==typeof a.overflowCount,"overflowCount",a.overflowCount,"number"),
g=O(n(a.specializationHeaderText)||a.specializationHeaderText instanceof I,"specializationHeaderText",a.specializationHeaderText,"!goog.soy.data.SanitizedContent|string");a=O("array"==m(a.specializations),"specializations",a.specializations,"!Array<{displayName: (!goog.soy.data.SanitizedContent|string), iconUrl: (!goog.soy.data.SanitizedContent|string)}>");g='<div class="badge"><div id="badgeMain" class="'+hb(c)+'"><div class="overflowButton" id="overflowButton"></div></div>\x3c!-- Replicate popup to measure its exact size. Consider moving to a separate template to avoid html duplication. --\x3e<div id="measurement" class="measurement"><div class="'+
hb(d)+'"><div class="agencyName" id="agencyName">'+N(b)+'</div><div class="specializationHeader">'+N(g)+'</div><div class="specializations"><table>';b=a.length;for(c=0;c<b;c++){var d=a[c],e;e=d.iconUrl;null!=e&&e.contentKind===Ja?(y(e.constructor===K),e=String(e).replace(Q,P)):null!=e&&e.contentKind===Ka?(y(e.constructor===L),e=String(e).replace(Q,P)):e instanceof C?e=String(D(e)).replace(Q,P):e instanceof B?(e instanceof B&&e.constructor===B&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===
za?e=e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(z("expected object of type TrustedResourceUrl, got '"+e+"' of type "+m(e)),e="type_error:TrustedResourceUrl"),e=String(e).replace(Q,P)):(e=String(e),kb.test(e)?e=e.replace(Q,P):(z("Bad value `%s` for |filterNormalizeMediaUri",[e]),e="about:invalid#zSoyz"));g+='<tr class="specialization"><td class="specializationIcon"><img class="specializationIcon" src="'+hb(e)+'"></td><td class="specializationText">'+N(d.displayName)+"</td></tr>"}g+=
"</table>"+(0<f?'<div class="overflowCountWrapper"><div class="overflowCount">+'+N(f)+"</div></div>":"")+"</div></div></div>";return cb(g)};lb.soyTemplateName="partners.badge.soy.badge";var mb=function(a,b){a=a.match(new RegExp(".*(\\?|#|&)"+b+"=([^&#]+)"))||[];return decodeURIComponent(a[a.length-1]||"")},nb=function(){var a=["",{width:220,height:82}];function b(){p.s=h+"/"+f+":"+h+":"+p.s;p.g=!1;a&&(p.a=a.slice(1));c.parent.postMessage("!_"+c.JSON.stringify(p),e||"*")}var c=window,d=c.document;if(c.postMessage&&c.JSON&&c.JSON.stringify&&c!=c.parent){var f=c.name,g=c.location.href,e=function(a){if(!a.match(/^https?\:\/\//))return"";var b=d.createElement("a");b.href=a;b.pathname=
b.search=b.hash="";return b.href.replace(/\/\??\#?$/,"")}(mb(g,"parent")),h=mb(g,"pfname"),p={s:"_renderstart",f:f,r:f,t:mb(g,"rpctoken"),a:a||[""],g:"ping"};d.all?c.setTimeout(b,0):b()}};var R=function(a,b,c,d,f){this.reset(a,b,c,d,f)};R.prototype.exception_=null;var ob=0;R.prototype.reset=function(a,b,c,d,f){"number"==typeof f||ob++;this.time_=d||r();this.level_=a;this.msg_=b;this.loggerName_=c;delete this.exception_};R.prototype.setLevel=function(a){this.level_=a};var S=function(a){this.name_=a;this.handlers_=this.children_=this.level_=this.parent_=null},T=function(a,b){this.name=a;this.value=b};T.prototype.toString=function(){return this.name};var pb=new T("SHOUT",1200),qb=new T("SEVERE",1E3),rb=new T("WARNING",900),sb=new T("INFO",800),tb=new T("CONFIG",700);S.prototype.getName=function(){return this.name_};S.prototype.getParent=function(){return this.parent_};S.prototype.setLevel=function(a){this.level_=a};
var ub=function(a){if(a.level_)return a.level_;if(a.parent_)return ub(a.parent_);z("Root logger has no level set.");return null};
S.prototype.log=function(a,b,c){if(a.value>=ub(this).value)for("function"==m(b)&&(b=b()),a=new R(a,String(b),this.name_),c&&(a.exception_=c),c="log:"+a.msg_,l.console&&(l.console.timeStamp?l.console.timeStamp(c):l.console.markTimeline&&l.console.markTimeline(c)),l.msWriteProfilerMark&&l.msWriteProfilerMark(c),c=this;c;){var d=c,f=a;if(d.handlers_)for(var g=0;b=d.handlers_[g];g++)b(f);c=c.getParent()}};S.prototype.info=function(a,b){this.log(sb,a,b)};
S.prototype.config=function(a,b){this.log(tb,a,b)};var vb={},U=null,wb=function(){U||(U=new S(""),vb[""]=U,U.setLevel(tb))},xb=function(a){wb();var b;if(!(b=vb[a])){b=new S(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=xb(a.substr(0,c));c.children_||(c.children_={});c.children_[d]=b;b.parent_=c;vb[a]=b}return b};var V=function(){this.relativeTimeStart_=r()},yb=new V;V.prototype.set=function(a){this.relativeTimeStart_=a};V.prototype.reset=function(){this.set(r())};V.prototype.get=function(){return this.relativeTimeStart_};var zb=function(a){this.prefix_=a||"";this.startTimeProvider_=yb};k=zb.prototype;k.appendNewline=!0;k.showAbsoluteTime=!0;k.showRelativeTime=!0;k.showLoggerName=!0;k.showExceptionText=!1;k.showSeverityLevel=!1;var W=function(a){return 10>a?"0"+a:String(a)},Ab=function(a,b){a=(a.time_-b)/1E3;b=a.toFixed(3);var c=0;if(1>a)c=2;else for(;100>a;)c++,a*=10;for(;0<c--;)b=" "+b;return b},Bb=function(a){zb.call(this,a)};t(Bb,zb);var Cb=function(){this.publishHandler_=q(this.addLogRecord,this);this.formatter_=new Bb;this.formatter_.showAbsoluteTime=!1;this.formatter_.showExceptionText=!1;this.isCapturing_=this.formatter_.appendNewline=!1;this.filteredLoggers_={}};
Cb.prototype.addLogRecord=function(a){if(!this.filteredLoggers_[a.loggerName_]){var b;b=this.formatter_;var c=[];c.push(b.prefix_," ");if(b.showAbsoluteTime){var d=new Date(a.time_);c.push("[",W(d.getFullYear()-2E3)+W(d.getMonth()+1)+W(d.getDate())+" "+W(d.getHours())+":"+W(d.getMinutes())+":"+W(d.getSeconds())+"."+W(Math.floor(d.getMilliseconds()/10)),"] ")}b.showRelativeTime&&c.push("[",Ab(a,b.startTimeProvider_.get()),"s] ");b.showLoggerName&&c.push("[",a.loggerName_,"] ");b.showSeverityLevel&&
c.push("[",a.level_.name,"] ");c.push(a.msg_);b.showExceptionText&&(d=a.exception_)&&c.push("\n",d instanceof Error?d.message:d.toString());b.appendNewline&&c.push("\n");b=c.join("");if(c=Db)switch(a.level_){case pb:X(c,"info",b);break;case qb:X(c,"error",b);break;case rb:X(c,"warn",b);break;default:X(c,"debug",b)}}};var Db=l.console,X=function(a,b,c){if(a[b])a[b](c);else a.log(c)};var Eb;if(!(Eb=!Ra&&!M)){var Fb;if(Fb=M)Fb=9<=Number($a);Eb=Fb}Eb||Ra&&Za("1.9.1");M&&Za("9");var Gb=function(a,b){this.width=a;this.height=b};k=Gb.prototype;k.clone=function(){return new Gb(this.width,this.height)};k.toString=function(){return"("+this.width+" x "+this.height+")"};k.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};k.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};k.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
k.scale=function(a,b){this.width*=a;this.height*="number"==typeof b?b:a;return this};var Y=function(a){var b=document;return n(a)?b.getElementById(a):a};var Hb=function(a,b){a&&a.log(qb,b,void 0)};var Kb=function(a){var b=Y("badge");y(lb,"Soy template may not be null.");b.innerHTML=Ib(lb(a||Jb))},Ib=function(a){if(!ba(a))return String(a);if(a instanceof I){if(a.contentKind===H)return ua(a.content);if(a.contentKind===La)return w(a.content)}z("Soy template output is unsafe for use as HTML: "+a);return"zSoyz"},Jb={};var Mb=function(){var a;a=Y("measurement");var b=Lb,c;b:{y(a,"Node cannot be null or undefined.");c=9==a.nodeType?a:a.ownerDocument||a.document;if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))){c=c.display||c.getPropertyValue("display")||"";break b}c=""}if("none"!=(c||(a.currentStyle?a.currentStyle.display:null)||a.style&&a.style.display))a=b(a);else{c=a.style;var d=c.display,f=c.visibility,g=c.position;c.visibility="hidden";c.position="absolute";c.display=
"inline";a=b(a);c.display=d;c.position=g;c.visibility=f}return a},Lb=function(a){var b=a.offsetWidth,c=a.offsetHeight,d=Sa&&!b&&!c;if((void 0===b||d)&&a.getBoundingClientRect){var f;a:{try{f=a.getBoundingClientRect()}catch(g){f={left:0,top:0,right:0,bottom:0};break a}M&&a.ownerDocument.body&&(a=a.ownerDocument,f.left-=a.documentElement.clientLeft+a.body.clientLeft,f.top-=a.documentElement.clientTop+a.body.clientTop)}return new Gb(f.right-f.left,f.bottom-f.top)}return new Gb(b,c)};var Z=function(){var a;a=window.location.href;var b=a.search(Ia),c;b:{for(c=0;0<=(c=a.indexOf("agency-id",c))&&c<b;){var d=a.charCodeAt(c-1);if(38==d||63==d)if(d=a.charCodeAt(c+9),!d||61==d||38==d||35==d)break b;c+=10}c=-1}if(0>c)a=null;else{d=a.indexOf("&",c);if(0>d||d>b)d=b;c+=10;a=decodeURIComponent(a.substr(c,d-c).replace(/\+/g," "))}this.agencyId_=a;this.logger_=xb("partners.badge.PartnersBadge");this.logConsole_=new Cb;this.service_=new ha;this.origin_=gapi.iframes.getContext().getParentIframe().getOrigin();
this.agencyInfo_={};a=this.logConsole_;1!=a.isCapturing_&&(wb(),b=U,c=a.publishHandler_,b.handlers_||(b.handlers_=[]),b.handlers_.push(c),a.isCapturing_=!0);this.interactionLogger_=new ea(this.agencyId_)};aa("partners.badge.PartnersBadge",Z);
Z.prototype.load=function(a){this.agencyId_?this.origin_?Nb(q(function(){var b=gapi.config.get().llang;ia(this.service_,this.agencyId_,this.origin_,b,q(function(b){Ob(this,b);a&&a()},this))},this),a):(Hb(this.logger_,"Widget system did not provide the origin URL."),a&&a()):(Hb(this.logger_,"Parent code did not provide an agency ID."),a&&a())};Z.prototype.load=Z.prototype.load;
var Ob=function(a,b){if(b&&b.mainBadgeCssClass){a.agencyInfo_={agencyId:a.agencyId_,agencyName:b.agencyName,gpsProfilePageUrl:b.gpsProfilePageUrl,mainBadgeCssClass:b.mainBadgeCssClass,mainPopupCssClass:b.mainPopupCssClass,specializationHeaderText:b.specializationHeaderText,specializations:va(b.specializations||[]),overflowCount:0};b=a.agencyInfo_.specializations;3<b.length&&(a.agencyInfo_.overflowCount=b.length-2,a.agencyInfo_.specializations=b.slice(0,2));Kb(a.agencyInfo_);b=Y("overflowButton");
b.addEventListener("click",q(a.toggleOverflow_,a),!1);b.addEventListener("mouseover",q(a.toggleOverflow_,a),!1);var c=a.agencyInfo_.gpsProfilePageUrl;Y("badge").addEventListener("click",q(function(){fa(this.interactionLogger_,"badge_clicked");var a;a||(a={});var b=window,g;g=c instanceof C?c:Da("undefined"!=typeof c.href?c.href:String(c));var e=a.target||c.target,h=[],p;for(p in a)switch(p){case "width":case "height":case "top":case "left":h.push(p+"="+a[p]);break;case "target":case "noreferrer":break;
default:h.push(p+"="+(a[p]?1:0))}h=h.join(",");(F("iPhone")&&!F("iPod")&&!F("iPad")||F("iPad")||F("iPod"))&&b.navigator&&b.navigator.standalone&&e&&"_self"!=e?(h=b.document.createElement("A"),"undefined"!=typeof HTMLAnchorElement&&"undefined"!=typeof Location&&"undefined"!=typeof Element&&y(h&&(h instanceof HTMLAnchorElement||!(h instanceof Location||h instanceof Element)),"Argument is not a HTMLAnchorElement (or a non-Element mock); got: %s",ba(h)?h.constructor.displayName||h.constructor.name||Object.prototype.toString.call(h):
void 0===h?"undefined":null===h?"null":typeof h),g=g instanceof C?g:Da(g),h.href=D(g),h.setAttribute("target",e),a.noreferrer&&h.setAttribute("rel","noreferrer"),a=document.createEvent("MouseEvent"),a.initMouseEvent("click",!0,!0,b,1),h.dispatchEvent(a)):a.noreferrer?(b=b.open("",e,h),g=D(g),b&&(Qa&&-1!=g.indexOf(";")&&(g="'"+g.replace(/'/g,"%27")+"'"),b.opener=null,a=ya("b/12014412, meta tag with sanitized URL"),g='<META HTTP-EQUIV="refresh" content="0; url='+w(g)+'">',ua(xa(a),"must provide justification"),
y(!/^[\s\xa0]*$/.test(xa(a)),"must provide non-empty justification"),b.document.write(Ha((new G).initSecurityPrivateDoNotAccessOrElse_(g))),b.document.close())):b.open(D(g),e,h)},a),!1);nb();fa(a.interactionLogger_,"badge_loaded")}else Hb(a.logger_,"No valid response from API call.")},Nb=function(a,b){var c=Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^r()).toString(36);gapi.iframes.getContext().getParentIframe().ping(function(d){d==c?a():(Hb(this.logger_,
"Origin URL could not be verified."),b&&b())},c)};Z.prototype.toggleOverflow_=function(a){a.stopPropagation();var b=Mb();a={anchor:Y("overflowButton"),closeClickDetection:!0,expandTo:["top","bottom"],relayOpen:!0,style:"bubble",url:"../templates/popup.html",width:b.width+1,height:"auto"};gapi.iframes.getContext().open(a,q(function(a){this.agencyInfo_.desiredIframeHeight=b.height+1;a.send("setAgencyData",this.agencyInfo_)},this));fa(this.interactionLogger_,"popup_opened")};
